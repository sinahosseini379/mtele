const TelegramBot = require('node-telegram-bot-api'); const { scanPage } = require('./scanner'); const { createNextjsProject, zipProject } = require('./nextjs-generator'); const token = 'YOUR_TELEGRAM_BOT_TOKEN'; const bot = new TelegramBot(token, { polling: true }); bot.on('message', async (msg) => { const chatId = msg.chat.id; const url = msg.text; if (isValidUrl(url)) { bot.sendMessage(chatId, 'در حال پردازش URL...'); const { html, styles, images } = await scanPage(url); await createNextjsProject(html, styles, images); zipProject('my-nextjs-project', 'project.zip'); bot.sendDocument(chatId, 'project.zip'); } else { bot.sendMessage(chatId, 'لطفاً یک URL معتبر ارسال کنید.'); } }); function isValidUrl(url) { try { new URL(url); return true; } catch (err) { return false; } }
