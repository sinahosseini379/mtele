const puppeteer = require('puppeteer-core'); async function scanPage(url) { const browser = await puppeteer.launch({ executablePath: '/usr/bin/chromium-browser' }); const page = await browser.newPage(); await page.goto(url); const html = await page.content(); const styles = await page.evaluate(() => { return Array.from(document.querySelectorAll('style, link[rel="stylesheet"]')).map(el => el.outerHTML); }); const images = await page.evaluate(() => { return Array.from(document.querySelectorAll('img')).map(img => ({ src: img.src, alt: img.alt })); }); await browser.close(); return { html, styles, images }; } module.exports = { scanPage };
